
<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <title>
3 links to save your sanity | blog.ipedrazas.me
</title>

    <link href="/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="Sitewide ATOM Feed">
    

    
  <link rel="stylesheet" href="//netdna.bootstrapcdn.com/bootstrap/3.0.3/css/bootstrap.min.css">
  <link rel="stylesheet" href="//netdna.bootstrapcdn.com/bootstrap/3.0.3/css/bootstrap-theme.min.css">


    
  </head>

  <body>
    <div class="navbar navbar-default navbar-static-top" role="navigation">
      <div class="container">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="/">blog.ipedrazas.me</a>
        </div>
        
        <div class="navbar-collapse collapse">
          
          <ul class="nav navbar-nav">
            
            <li><a href="/archives.html">Archives</a></li>
            
            
          </ul>
          
          
          <ul class="nav navbar-nav navbar-right">
            
            <li class="dropdown">
            <a href="#" data-toggle="dropdown">Categories <b class="caret"></b></a>
            <ul class="dropdown-menu">
              
              
              <li>
              <a href="/category/Android.html">Android <span class="badge pull-right">6</span></a>
              </li>
              
              
              <li>
              <a href="/category/Architecture.html">Architecture <span class="badge pull-right">1</span></a>
              </li>
              
              
              <li>
              <a href="/category/Arduino.html">Arduino <span class="badge pull-right">2</span></a>
              </li>
              
              
              <li>
              <a href="/category/Bitcoin.html">Bitcoin <span class="badge pull-right">1</span></a>
              </li>
              
              
              <li>
              <a href="/category/CMS.html">CMS <span class="badge pull-right">1</span></a>
              </li>
              
              
              <li>
              <a href="/category/Cassandra.html">Cassandra <span class="badge pull-right">3</span></a>
              </li>
              
              
              <li>
              <a href="/category/DevOps.html">DevOps <span class="badge pull-right">9</span></a>
              </li>
              
              
              <li>
              <a href="/category/Development.html">Development <span class="badge pull-right">8</span></a>
              </li>
              
              
              <li>
              <a href="/category/Docker.html">Docker <span class="badge pull-right">5</span></a>
              </li>
              
              
              <li>
              <a href="/category/Idea.html">Idea <span class="badge pull-right">3</span></a>
              </li>
              
              
              <li>
              <a href="/category/London.html">London <span class="badge pull-right">2</span></a>
              </li>
              
              
              <li>
              <a href="/category/Maker.html">Maker <span class="badge pull-right">1</span></a>
              </li>
              
              
              <li>
              <a href="/category/Me.html">Me <span class="badge pull-right">2</span></a>
              </li>
              
              
              <li>
              <a href="/category/Python.html">Python <span class="badge pull-right">2</span></a>
              </li>
              
              
              <li>
              <a href="/category/Spanish.html">Spanish <span class="badge pull-right">2</span></a>
              </li>
              
              
              <li>
              <a href="/category/Uncategorized.html">Uncategorized <span class="badge pull-right">1</span></a>
              </li>
              
              
              <li>
              <a href="/category/analytics.html">analytics <span class="badge pull-right">1</span></a>
              </li>
              
              
              <li>
              <a href="/category/books.html">books <span class="badge pull-right">1</span></a>
              </li>
              
              
              <li>
              <a href="/category/children.html">children <span class="badge pull-right">3</span></a>
              </li>
              
              
              <li>
              <a href="/category/startups.html">startups <span class="badge pull-right">1</span></a>
              </li>
              
              
              <li>
              <a href="/category/stats.html">stats <span class="badge pull-right">1</span></a>
              </li>
              
            </ul>
            </li>
            
            
            <li class="dropdown">
            <a href="#" data-toggle="dropdown">Tags <b class="caret"></b></a>
            <ul class="dropdown-menu">
              
              
              <li>
              <a href="/tag/Android.html">Android <span class="badge pull-right">3</span></a>
              </li>
              
              
              <li>
              <a href="/tag/Idea.html">Idea <span class="badge pull-right">4</span></a>
              </li>
              
              
              <li>
              <a href="/tag/stats.html">stats <span class="badge pull-right">1</span></a>
              </li>
              
              
              <li>
              <a href="/tag/kubernetes.html">kubernetes <span class="badge pull-right">1</span></a>
              </li>
              
              
              <li>
              <a href="/tag/immutable.html">immutable <span class="badge pull-right">1</span></a>
              </li>
              
              
              <li>
              <a href="/tag/architecture.html">architecture <span class="badge pull-right">1</span></a>
              </li>
              
              
              <li>
              <a href="/tag/Arduino.html">Arduino <span class="badge pull-right">1</span></a>
              </li>
              
              
              <li>
              <a href="/tag/Cassandra.html">Cassandra <span class="badge pull-right">2</span></a>
              </li>
              
              
              <li>
              <a href="/tag/Docker.html">Docker <span class="badge pull-right">1</span></a>
              </li>
              
              
              <li>
              <a href="/tag/cassandra.html">cassandra <span class="badge pull-right">1</span></a>
              </li>
              
              
              <li>
              <a href="/tag/docker.html">docker <span class="badge pull-right">2</span></a>
              </li>
              
              
              <li>
              <a href="/tag/tutorial.html">tutorial <span class="badge pull-right">1</span></a>
              </li>
              
              
              <li>
              <a href="/tag/DevOps.html">DevOps <span class="badge pull-right">1</span></a>
              </li>
              
              
              <li>
              <a href="/tag/Development.html">Development <span class="badge pull-right">1</span></a>
              </li>
              
              
              <li>
              <a href="/tag/Javascript.html">Javascript <span class="badge pull-right">1</span></a>
              </li>
              
              
              <li>
              <a href="/tag/dotmarks.html">dotmarks <span class="badge pull-right">1</span></a>
              </li>
              
              
              <li>
              <a href="/tag/elasticsearch.html">elasticsearch <span class="badge pull-right">1</span></a>
              </li>
              
              
              <li>
              <a href="/tag/children.html">children <span class="badge pull-right">2</span></a>
              </li>
              
              
              <li>
              <a href="/tag/security.html">security <span class="badge pull-right">1</span></a>
              </li>
              
              
              <li>
              <a href="/tag/raspberrypi.html">raspberrypi <span class="badge pull-right">1</span></a>
              </li>
              
              
              <li>
              <a href="/tag/startups.html">startups <span class="badge pull-right">1</span></a>
              </li>
              
            </ul>
            </li>
            
          </ul>
          
        </div>
        
      </div>
    </div>

    <div class="container col-md-10 col-md-offset-1 col-lg-8 col-lg-offset-2">
      
<h1>3 links to save your sanity</h1>

<p>

<span class="label label-default">by ipedrazas</span>



<span class="label label-default">0001-01-01</span>



<a class="label label-success" href="/category/Development.html">Development</a>



</p>

<p>categories:
  &ndash; Development
  &ndash; DevOps
  &ndash; Python
tags:
  &ndash; deploy</p>

<h2>&ndash; python</h2>

<p>During the last two years I&#8217;ve been deploying python code to production quiet often and because my memory is quite terrible and I know that when something goes wrong, I need to have everything there: IN-MY-FACE, I added from the beginning three links to my release process.</p>

<p>Imagine we want to deploy :blibb to our server. I will run my fabric script and once it&#8217;s finished Boom! deploy finished <img src="http://ivan.pedrazas.me/wp-includes/images/smilies/icon_smile.gif" alt=":)" class="wp-smiley" /></p>

<p>This script will create the following directory:</p>

<p><code>/data/blibb/releases/2013.6.15-22.59.12</code></p>

<p>Let&#8217;s assume the last deploy was done 2 days before:</p>

<p><code>/data/blibb/releases/2013.6.13-11.23.22&lt;br /&gt;
/data/blibb/releases/2013.6.15-22.59.12</code></p>

<p>Now, there&#8217;s something I do&#8230; &#8220;just in case&#8221;, I create 3 symbolic links as follows:</p>

<p>``During the last two years I&#8217;ve been deploying python code to production quiet often and because my memory is quite terrible and I know that when something goes wrong, I need to have everything there: IN-MY-FACE, I added from the beginning three links to my release process.</p>

<p>Imagine we want to deploy :blibb to our server. I will run my fabric script and once it&#8217;s finished Boom! deploy finished <img src="http://ivan.pedrazas.me/wp-includes/images/smilies/icon_smile.gif" alt=":)" class="wp-smiley" /></p>

<p>This script will create the following directory:</p>

<p><code>/data/blibb/releases/2013.6.15-22.59.12</code></p>

<p>Let&#8217;s assume the last deploy was done 2 days before:</p>

<p><code>/data/blibb/releases/2013.6.13-11.23.22&lt;br /&gt;
/data/blibb/releases/2013.6.15-22.59.12</code></p>

<p>Now, there&#8217;s something I do&#8230; &#8220;just in case&#8221;, I create 3 symbolic links as follows:</p>

<p>``</p>

<p>So, my nginx points to current, so if something goes wrong, I can always swap back to the previous release that, alas, it&#8217;s just there. With these 3 links I know exactly where I am and where I was before the release, and yes, things go wrong, and my rollback is as simple as changing a couple of links (I do something else, but the update of the links is what makes the process extremely fast).</p>

<p>In case that you wonder, this is how the links are left after a rollback:</p>

<p>```During the last two years I&#8217;ve been deploying python code to production quiet often and because my memory is quite terrible and I know that when something goes wrong, I need to have everything there: IN-MY-FACE, I added from the beginning three links to my release process.</p>

<p>Imagine we want to deploy :blibb to our server. I will run my fabric script and once it&#8217;s finished Boom! deploy finished <img src="http://ivan.pedrazas.me/wp-includes/images/smilies/icon_smile.gif" alt=":)" class="wp-smiley" /></p>

<p>This script will create the following directory:</p>

<p><code>/data/blibb/releases/2013.6.15-22.59.12</code></p>

<p>Let&#8217;s assume the last deploy was done 2 days before:</p>

<p><code>/data/blibb/releases/2013.6.13-11.23.22&lt;br /&gt;
/data/blibb/releases/2013.6.15-22.59.12</code></p>

<p>Now, there&#8217;s something I do&#8230; &#8220;just in case&#8221;, I create 3 symbolic links as follows:</p>

<p>``During the last two years I&#8217;ve been deploying python code to production quiet often and because my memory is quite terrible and I know that when something goes wrong, I need to have everything there: IN-MY-FACE, I added from the beginning three links to my release process.</p>

<p>Imagine we want to deploy :blibb to our server. I will run my fabric script and once it&#8217;s finished Boom! deploy finished <img src="http://ivan.pedrazas.me/wp-includes/images/smilies/icon_smile.gif" alt=":)" class="wp-smiley" /></p>

<p>This script will create the following directory:</p>

<p><code>/data/blibb/releases/2013.6.15-22.59.12</code></p>

<p>Let&#8217;s assume the last deploy was done 2 days before:</p>

<p><code>/data/blibb/releases/2013.6.13-11.23.22&lt;br /&gt;
/data/blibb/releases/2013.6.15-22.59.12</code></p>

<p>Now, there&#8217;s something I do&#8230; &#8220;just in case&#8221;, I create 3 symbolic links as follows:</p>

<p>``</p>

<p>So, my nginx points to current, so if something goes wrong, I can always swap back to the previous release that, alas, it&#8217;s just there. With these 3 links I know exactly where I am and where I was before the release, and yes, things go wrong, and my rollback is as simple as changing a couple of links (I do something else, but the update of the links is what makes the process extremely fast).</p>

<p>In case that you wonder, this is how the links are left after a rollback:</p>

<p>```</p>






    </div>
    
  
  <div class="container col-md-10 col-md-offset-1 col-lg-8 col-lg-offset-2">
    <div class="text-center">
      <p>
        <a href="http://github.com/agonzalezro/polo">polo</a> is made with
        <span class="glyphicon glyphicon-heart"></span> by
        <a href="http://twitter.com/agonzalezro">@agonzalezro</a>
      </p>
    </div>
  </div>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>
  <script src="//getbootstrap.com/dist/js/bootstrap.min.js"></script>

    
  

  </body>
</html>
